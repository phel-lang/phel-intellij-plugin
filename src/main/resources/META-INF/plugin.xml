<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>org.phellang</id>
    <name>Phel Lang</name>
    <vendor email="phel@chemaclass.es" url="https://phel-lang.org/">Phel Lang</vendor>
    <description><![CDATA[
<p><strong>Phel</strong> is a functional programming language that transpiles to PHP. It is a dialect of Lisp inspired by Clojure and Janet.</p>

<h3>IDE Features</h3>
<ul>
  <li><strong>Intelligent Code Completion</strong> - Context-aware suggestions for functions, macros, and symbols</li>
  <li><strong>Template Completions</strong> - Smart templates for common constructs (def, defn, let, if, when, fn)</li>
  <li><strong>Namespace Support</strong> - Auto-completion for namespace functions (str/, json/, core/, etc.)</li>
  <li><strong>Form Comment Highlighting</strong> - Full support for #_ form comments with stacking (#_#_)</li>
  <li><strong>Syntax Highlighting</strong> - Semantic highlighting for keywords, symbols, comments, and special forms</li>
  <li><strong>Smart Editing</strong> - Auto-insertion of parentheses, bracket matching, and quote handling</li>
  <li><strong>Code Folding</strong> - Collapse and expand function definitions, data structures, and comment blocks</li>
  <li><strong>Symbol Navigation</strong> - Go-to definition and find usages for Phel symbols</li>
  <li><strong>Comment Support</strong> - Line comments (#, ;) and form comments (#_) with proper IDE integration</li>
</ul>

<h3>Language Features</h3>
<ul>
  <li>Built on PHP's ecosystem</li>
  <li>Persistent data structures (Lists, Vectors, Maps and Sets)</li>
  <li>Macros and special forms</li>
  <li>Recursive functions with tail-call optimization</li>
  <li>Powerful but simple Lisp syntax</li>
  <li>REPL support</li>
  <li>Good error reporting</li>
</ul>
<br/>
<p>Learn more at <a href="https://phel-lang.org/">phel-lang.org</a></p>
  ]]></description>
    <depends>com.intellij.modules.platform</depends>

    <!-- Extension points - https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <fileType
                name="Phel file"
                implementationClass="org.phellang.PhelFileType"
                fieldName="INSTANCE"
                language="Phel"
                extensions="phel"/>
        <lang.parserDefinition
                language="Phel"
                implementationClass="org.phellang.language.PhelParserDefinition"/>
        <lang.syntaxHighlighterFactory
                language="Phel"
                implementationClass="org.phellang.PhelSyntaxHighlighterFactory"/>
        <colorSettingsPage
                implementation="org.phellang.editor.PhelColorSettingsPage"/>
        <annotator
                language="Phel"
                implementationClass="org.phellang.annotator.PhelAnnotator"/>
        <completion.contributor
                language="Phel"
                implementationClass="org.phellang.completion.PhelCompletionContributor"/>
        <lang.documentationProvider
                language="Phel"
                implementationClass="org.phellang.completion.infrastructure.PhelDocumentationProvider"/>
        <lang.commenter
                language="Phel"
                implementationClass="org.phellang.editor.PhelCommenter"/>
        <lang.braceMatcher
                language="Phel"
                implementationClass="org.phellang.editor.PhelBraceMatcher"/>
        <lang.quoteHandler
                language="Phel"
                implementationClass="org.phellang.PhelQuoteHandler"/>
        <typedHandler
                implementation="org.phellang.PhelTypedHandler"/>
        <lang.findUsagesProvider
                language="Phel"
                implementationClass="org.phellang.language.psi.PhelFindUsagesProvider"/>
        <lang.foldingBuilder
                language="Phel"
                implementationClass="org.phellang.folding.PhelFoldingBuilder"/>
        <enterHandlerDelegate
                implementation="org.phellang.editor.PhelEnterHandlerDelegate"/>
        <internalFileTemplate name="Phel File.phel"/>
    </extensions>

    <actions>
        <action id="Phel.NewFile" class="org.phellang.actions.CreatePhelFileAction" text="Phel File"
                description="Create new Phel file">
            <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewScratchFile"/>
        </action>
    </actions>
</idea-plugin>